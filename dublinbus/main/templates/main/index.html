{% extends "main/base.html" %}
{% load static %}

{% block title %}Dublin Bus - Home{% endblock %}

{% block nav_title %}Journey Planner{% endblock %}

{% block content %}

<script>
  let autocomplete1;
  let autocomplete2;

  function initAutocomplete() {
      autocomplete1 = setAutocomplete(autocomplete1, 'origin');
      autocomplete2 = setAutocomplete(autocomplete2, 'destination');
  }

  function setAutocomplete(object, id) {
      var cityBounds = new google.maps.LatLngBounds(new google.maps.LatLng(53.22, -6.45), new google.maps.LatLng(53.43, -6.00));
      object = new google.maps.places.Autocomplete(
          document.getElementById(id),
          {
              bounds: cityBounds,
              types:['establishment'],
              componenRestrictions:{'country':'ie'},
              strictbounds: true,
              fields:['place_id', 'geometry', 'name']
          });
      return object;
  }

</script>

<div id="wrapper">
  <div id="map"></div>

  <div id="over_map" class="container w-25 p-3 bg-white">
    <p class="font-weight-bold text-center">Travelling From</p>
    <div class="d-grid gap-2">
      <button id="btn-primary" class="btn btn-primary" type="button">My Location <span class="glyphicon glyphicon-screenshot"></span></button>
    </div>

    <div class="d-grid gap-2">
      <p class="text-center">OR</p>
    </div> 
    <form>
      <div class="form-group">
        <input type="text" class="form-control" id="origin" placeholder="Enter Location">
      </div>
      
      <p class="font-weight-bold text-center">Destination</p>
      <div class="form-group">
        <input type="text" class="form-control" id="destination" placeholder="Enter Destination">
      </div>

      <p class="font-weight-bold text-center">Departure Time</p>

      <div class="form-outline datepicker">
        <input type="datetime-local" id="departure-time" name="departure-time">
      </div>

    <div class="d-grid gap-2">
        <button id="submit" class="btn btn-primary" type="submit">Submit <span class="glyphicon glyphicon-arrow-right"></span></button>
    </div>
    </form>

  </div>
</div>

<script src="{% static 'journeyplanner.js' %}"></script>

{% endblock %}

